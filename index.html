<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  <link rel="preconnect" href="https://cdn.jsdelivr.net">
  <link rel="dns-prefetch" href="https://cdn.jsdelivr.net">

  <link rel="stylesheet"
    href="https://cdn.jsdelivr.net/npm/water.css@2/out/water.min.css">

  <title>Qemmet</title>
  <meta name="description" content="A way to generate a Qiskit 0.3X or OpenQASM 3.0 code with a shorthand
  notation.">
</head>

<body style="overflow-y:scroll">
  <h1>Qemmet</h1>
  <p>Qemmet is a way to generate a Qiskit 0.3X or OpenQASM 3.0 code with a shorthand
    notation.</p>
  <details>
    <summary>How does this work?</summary>
    <p>
      The syntax consists of 4 parts:
    </p>
    <p>
      <code
        style="display:block">[quantum_register_num]<mark>;</mark>[classical_register_num]<mark>;</mark>&lt;gate_string&gt;[<mark>;</mark>[options]...]</code>
    </p>
    <ul>
      <li>
        The <code>quantum_register_num</code> is an integer used to specify the number of
        qubits in the quantum register. It is optional and defaults to <code>1</code>.
      </li>
      <li>
        The <code>classical_register_num</code> is an integer used to specify the number
        of bits in the classical register. It is optional and defaults to <code>0</code>.
      </li>
      <li>The <code>gate_string</code> is a <strong>required</strong> string in the form
        of: <code
          style="display:block;margin:.5rem 0">&lt;[control_string]&lt;gate_name&gt;[<mark>[</mark>[params][,[params]]...<mark>]</mark>][qubits]&gt;...</code>
      </li>
      <li>The <code>options</code> is a string of integers. It is optional and defaults to
        <code>;1</code>. Please see the <a href="#options">available options</a> section
        for more information.
      </li>
    </ul>
    <p>As you can see, the <code>quantum_register_num</code> and
      <code>classical_register_num</code> parts are very simple. Now, the
      <code>gate_string</code> part might look very complicated, but it is actually very
      simple. &mdash; So, how do I start to input my gates?
    </p>
    <ol>
      <li>First, a <code>control_string</code> is a string of letter <code>c</code>. You
        just have to think if your gate you're entering will have any controls. If
        yes, enter the character <code>c</code> as much as you want. If not, just skip
        this part.</li>
      <li>Then, you type your gate name which can be found <a href="#gates">below</a>.
      </li>
      <li>After that, if your gate requires a parameter, you enter that by surrounding
        it with a pair of brackets (Well, if it's not required, you just skip this step
        without entering any brackets). If your gate requires more than one parameter, you
        separate them with a comma. If a comma is adjacent to the other one, being the
        first, or the last, the 0 will be filled accordingly. For example: <code>[]</code>
        is equal to <code>[0]</code>, <code>[,]</code> is equal to <code>[0,0]</code>,
        <code>[,,]</code> is equal to <code>[0,0,0]</code>. There are 2 constants
        supported: <code>pi</code> and <code>euler</code> (I imported them from numpy).
      </li>
      <li>
        Finally, you enter the qubit(s) you want to apply. There are some rules apply
        for shorthand-ness:
        <ul><b>Case 1:</b> No number is entered
          <li>If no number is entered and it is <strong>a single-qubit gate</strong>, it
            will apply that gate to <strong>all</strong> of specified qubits.
          </li>
          <li>If no number is entered and it is <strong>a multiple-qubit gate</strong>
            (maybe with a control modifier or it's a swap gate), it will apply to qubit 1
            2 (3 4 ... if there are a lot of controls).</li>
        </ul>
        <ul><b>Case 2:</b> A number <strong>without any spaces</strong> is entered
          <li>If a number is entered with no spaces, it will be treated as a single digit
            packed together. For example: <code>123</code> means qubit 1, 2, and 3.</li>
        </ul>
        <ul><b>Case 3:</b> Some spaces is entered
          <li>If there are some spaces present <strong>at the first or between</strong>
            the numbers. It will considered as "seperated qubits". For example:
            <code>12 3</code> means qubit 12 and 3, <code>&nbsp;12</code> means qubit 12
            (you see the tiny space in front of the number, right?
          </li>
        </ul>
      </li>
    </ol>
    <p>There you have it! Now you repeat these steps for the next gate and keep entering
      them one by one without any spaces. If you're still not understand it, that's fine!
      You can see more examples below to grasp more concept around the syntax.</p>
    <strong>Repeat syntax</strong>
    <p>
      Repeat syntax is a preprocessor that let you repeat a chunk of your circuit string
      by this syntax:
      <code
        style="display:block;margin:.5rem 0">
          <mark>[</mark>&lt;string&gt;<mark>]*</mark>&lt;repeat_number&gt;
        </code>
      For example:
      <code
        style="display:block;margin:.5rem 0">
        Ba[s]*2[o]*2n // Bassoon
      </code>
      The repeat syntax itself can be wrapped inside of another repeat syntax. For
      example:
      <code
        style="display:block;margin:.5rem 0">
        [l[o]*3l ]*2 // loool loool
      </code>
      This can be very useful with several quantum circuit that required you to repeat a
      chuck of the circuit. For example: A Grover's search circuit:
      <code
        style="display:block;margin:.5rem 0">
        4;3;x4h[ccx134h123x123ccz123x123h123]*2m123
      </code>
    </p>
    <b>Notes:</b>
    <ul>
      <li>For ease of human counting, by default, <strong>the register starts from
          1</strong>, not 0. However, you can change them by using <a
          href="#options">option arguments</a>.</li>
      </li>
      <li>Currently this is only a parser, <strong>not a syntax checker</strong>, so
        please check the syntax
        again by yourself.</li>
      <li>This is a prototype right now. And the code itself is super spaghetti, but if
        you can stand them and want to add something just open a pull request!
      </li>
    </ul>
    <strong id="gates">Available gates/instructions:</strong>
    <ul style="column-count:2;">
      <li><code>x</code>: Pauli-X gate</li>
      <li><code>y</code>: Pauli-Y gate</li>
      <li><code>z</code>: Pauli-Z gate</li>
      <li><code>h</code>: Hadamard gate</li>
      <li><code>s</code>: S gate</li>
      <li><code>sdg</code>: Sdag gate</li>
      <li><code>t</code>: T gate</li>
      <li><code>tdg</code>: Tdag gate</li>
      <li><code>p</code>: Phase gate</li>
      <li><code>sx</code> (<code>/x</code>): Sqrt(X) gate</li>
      <li><code>rx</code>: Rotation about X gate</li>
      <li><code>ry</code>: Rotation about Y gate</li>
      <li><code>rz</code>: Rotation about Z gate</li>
      <li><code>u1</code>: U1 gate</li>
      <li><code>u2</code>: U2 gate</li>
      <li><code>u3</code>: U3 gate</li>
      <li><code>i</code>: Identity gate</li>
      <li><code>sw</code>: Swap gate</li>
      <li><code>b</code>: Barrier instruction</li>
      <li><code>m</code>: Measure instruction</li>
    </ul>
    <strong><code>gate_string</code> examples and its outputs:</strong>
    <ul>
      <li><code>x</code>: Apply the X gate to all qubits.</li>
      <li><code>x12</code>: Apply the X gate to qubit 1 and 2.</li>
      <li><code>x12 10</code>: Apply the X gate to qubit 12 and 10.</li>
      <li><code>x 12</code>: Apply the X gate to qubit 12.</li>
      <li><code>cx</code>: Apply the CX gate to qubit 1 and 2, where 1 is the
        control and 2 is the target.</li>
      <li><code>ccx</code>: Apply the CX gate to qubit 1, 2, and 3, where 1 and
        2 is the control and 3 is the target.</li>
      <li><code>cx34</code>: Apply the CX gate to qubit 3 and 4, where 3 is the
        control and 4 is the target.</li>
      <li><code>cx 10 1</code>: Apply the CX gate to qubit 10 and 1, where 10
        is the control and 1 is the target.</li>
      <li><code>cccccx123456</code>: Apply the CCCCCX gate to qubit 1, 2, 3, 4,
        5, and 6 where 1, 2, 3, 4, 5 are the controls and 6 is the target.
      </li>
      <li><code>cccx12 1 11 9</code>: Apply the CCCX gate to qubit 12, 1, 11
        and 9 where 12, 1, and 11 are the controls and 9 is the target.</li>
      <li><code>rz[pi]1</code>: Apply rotation about Z gate to qubit 1 with a
        theta of pi
      </li>
      <li><code>crz[pi]12</code>: Apply controlled rotation about Z gate to quantum
        register 1 and 2, where 1 is the control and 2 is the target with a theta of pi.
      </li>
      <li><code>cu3[pi,,]34</code>: Apply controlled U3 gate to qubit 3 and 4,
        where 3 is the control and 4 is the target with values of theta, phi, and lambda
        of pi, 0, and 0. </li>
      <li><code>u2[,tau]</code>: Apply U2 gate to all qubits with a theta and
        pi of 0 and tau</li>
      <li><code>x12h</code>: Apply the X gate to qubit 1 and 2, then apply the
        H gate to all qubits.</li>
      <li><code>hx12</code>: Apply the H gate to all qubits, then apply the X
        gate to qubit 1 and 2.</li>
      <li><code>[h[x]*2]*3</code>: Expand into <code>hxxhxxhxx</code>. You knew the drill.
      </li>
      <li><code>[c]*10x</code>: Expand into <code>ccccccccccx</code>. That was absurdly
        large multi-control X gate.</li>
    </ul>
    <strong>Example circuits:</strong>
    <ul>
      <li><code>2;;h1cx</code>: Bell's state.</li>
      <li><code>;1;hm</code>: 1-bit randomizer.</li>
      <li>
        <code>4;3;x4h[ccx134h123x123ccz123x123h123]*2m123</code>:
        Grover's search.
      </li>
      <li><code>3;;h2cx23cxh1m12cx23cz13</code>: Quantum teleportation.</li>
      <li>
        <code>4;4;h4cp[pi/8]14cp[pi/4]24cp[pi/2]34h3cp[pi/4]13cp[pi/2]23h2cp[pi/2]h1sw14sw23</code>:
        Quantum Fourier transform
      </li>
    </ul>
    <strong id="options">Available options:</strong>
    <p>Currently, there is only one option available which is <code>startFromOne</code>
      which defaults to <code>1</code> (<code>true</code>). However, if you're entering
      your circuit start
      from 0, you can change this to <code>0</code>. For example:
      <code
        style="display:block;margin:.5rem 0">
        2;;h0cx;0 // H gate at qubit 0, CX at qubit 0 and 1
      </code>
    </p>
  </details>
  <hr>
  <section id="app">
    <label for="raw_string">Input Qemmet string:</label>
    <input id="raw_string" type="text" v-model.trim="raw_string"
      style="width:100%;box-sizing:border-box">
    <pre><code style="overflow-y:scroll;height:40vh">{{transpiled_code}}</code></pre>
    <div style="display:flex;align-items:flex-end">
      <div style="flex:1 1 0">
        <label for="target_lang">Target Language:</label>
        <select id="target_lang" v-model="target_lang"
          style="width:100%;box-sizing:border-box">
          <option value="qiskit03">Qiskit 0.3X</option>
          <option value="openqasm3">OpenQASM 3.0</option>
        </select>
      </div>
      <div>
        <button @click="copyTranspiledCode" style="margin-right:0;margin-left:1rem">Copy
          to
          clipboard</button>
      </div>
    </div>
  </section>
  <footer>
    <span style="display:block">
      Copyright &copy; <span
        onload="this.innerHTML = new Date().getFullYear()">2021</span> <a
        href="https://github.com/rootEnginear">rootEnginear</a> All right reserved.
    </span>
    <small>
      MIT License
    </small>
  </footer>

  <script src="https://cdn.jsdelivr.net/npm/vue@2" defer></script>
  <script src="vueapp.js" type="module" defer></script>
</body>

</html>